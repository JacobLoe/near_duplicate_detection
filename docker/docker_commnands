# build
docker build -f dockerfile_shot_detection -t jacobloe/shot_detection:0.1 .
docker build -f dockerfile_extract_images -t jacobloe/extract_images:0.1 .
docker build -f dockerfile_extract_features -t jacobloe/extract_features:0.1 .
docker build -f dockerfile_flask_query -t jacobloe/flask_query:0.1 .


# run
# the features_path needs the static in the beginning to work with flask
docker run --rm -it -v $(pwd)PATH_TO_VIDEOS:/video:ro -v $(pwd)/static/PATH_TO_FEATURES:/data jacobloe/shot_detection:0.1 /video /data/
docker run --rm -it -v $(pwd)PATH_TO_VIDEOS:/video:ro -v $(pwd)/static/PATH_TO_FEATURES:/data jacobloe/extract_images:0.1 /video /data/
docker run --rm -it -v $(pwd)/static/PATH_TO_FEATURES:/data  jacobloe/extract_features:0.1 /data/




